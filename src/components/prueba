import { useState, useEffect } from 'react';
import { useParams } from 'react-router-dom';
import ImageHandler from '../Handler/ImageHandler';
import { Link } from 'react-router-dom';
import * as React from 'react';
import Button from 'react-bootstrap/Button';
import Modal from 'react-bootstrap/Modal';
import { ModalBody } from 'react-bootstrap';



export default function DetailView() {
  const {id} = useParams();
  const [image, setImage] = useState([null])

  const [show, setShow] = useState(false);

  const handleClose = () => setShow(false);
  const handleShow = () => setShow(true);


  useEffect(() => {
    async function fetchImage() {
      const imageData = await ImageHandler.loadImage(id);
      setImage(imageData);
    }
    fetchImage();
  }, [id]);

  console.log(image)
    

  if (!image) {
    return <div>Loading...</div>;
  }
  let imageLarge = image


        return(
        
            <>

         {imageLarge.map(i =>(
            <div
            className="modal show"
            style={{ display: 'block', position: 'initial', backgroundColor:"rgba(135, 135, 135, 0.5)"}}
          >
            <Modal.Dialog size='lg'>
              <Modal.Header style={{backgroundColor:"rgba(135, 135, 135)"}} closeButton>
                <Modal.Title style={{backgroundColor:"rgba(135, 135, 135)"}}>{i.imageName}</Modal.Title>
              </Modal.Header>
              <ModalBody>
                <img src={i.imageSource} style={{height:"100%", width:"100%"}}/>
              </ModalBody>
      
              <Modal.Body>
                <p>{i.category}</p>
              </Modal.Body>
      
              <Modal.Footer style={{backgroundColor:"rgba(135, 135, 135)"}}>
                <Button variant="secondary" style={{backgroundColor:"#d63384"}}>Edit</Button>
                <Button variant="secondary" style={{backgroundColor:"#d63384"}}>Delete</Button>
              </Modal.Footer>
            </Modal.Dialog>
          </div>
         ))}

</>
               
          
            
    );
}







import { useState, useEffect } from 'react';
import { useParams } from 'react-router-dom';
import ImageHandler from '../Handler/ImageHandler';
import { Link } from 'react-router-dom';
import * as React from 'react';



export default function DetailView() {
  const {id} = useParams();
  const [image, setImage] = useState([])


  useEffect(() => {
    async function fetchImage() {
      const imageData = await ImageHandler.loadImage(id);
      setImage(imageData);
    }
    fetchImage();
  }, [id]);


  
  // const { imageName, category, imageStatus, source}= image;
  console.log(image)

  let imageLarge = image;

        return(

          <>
          
          {
            imageLarge.map(i => (
              <div>{i.imageName}</div>
            ))
          }
           

            </>
    );
}